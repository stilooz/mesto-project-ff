(()=>{"use strict";var e=function(e,t,n){var o=document.querySelector("#card-template").content.querySelector(".card").cloneNode(!0);!function(e){e.querySelector(".card__delete-button").addEventListener("click",(function(){e.remove()}),{once:!0})}(o);var r=o.querySelector(".card__image");o.querySelector(".card__title").textContent=e,r.setAttribute("src",t),r.setAttribute("alt","фотография ".concat(e)),r.addEventListener("click",(function(){n(e,t)}));var c,u=o.querySelector(".card__like-button");return(c=u).addEventListener("click",(function(){c.classList.toggle("card__like-button_is-active")})),o};function t(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",o)}function n(){var e=document.querySelector(".popup_is-opened");e&&(e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",o))}function o(e){"Escape"===e.key&&n()}var r=document.querySelector(".places__list"),c=document.forms["new-place"],u=document.querySelector(".popup__input_type_card-name"),p=document.querySelector(".popup__input_type_url"),d=document.querySelector(".profile__add-button"),i=document.querySelector(".popup_type_new-card"),a=document.querySelector(".popup_type_image"),l=document.querySelector(".popup__image"),s=document.querySelector(".popup__caption"),_=document.querySelector(".profile__title"),m=document.querySelector(".profile__description"),y=document.querySelector(".popup__input_type_name"),v=document.querySelector(".popup__input_type_description"),f=document.forms["edit-profile"],k=document.querySelector(".profile__edit-button"),q=document.querySelector(".popup_type_edit"),S=document.querySelectorAll(".popup__close"),E=document.querySelectorAll(".popup");function L(e,n){l.src=n,l.alt="Фотография ".concat(e),s.textContent=e,t(a)}[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(t){return r.append(e(t.name,t.link,L))})),k.addEventListener("click",(function(){y.value=_.textContent,v.value=m.textContent,t(q)})),c.addEventListener("submit",(function(t){t.preventDefault();var o=u.value,d=p.value,i=e(o,d,L);r.prepend(i),n(),c.reset()})),d.addEventListener("click",(function(){t(i)})),S.forEach((function(e){e.addEventListener("click",n)})),E.forEach((function(e){e.addEventListener("click",(function(t){t.target===e&&n()}))})),f.addEventListener("submit",(function(e){e.preventDefault(),_.textContent=y.value,m.textContent=v.value,n()}))})();